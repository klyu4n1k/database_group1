# Модель прецедентів

## Перелік існуючих документів у нашому проекті

1. [Аналіз предметної області](https://maxkochenkov.github.io/database_group1/requirements/state-of-the-art.html)

2. [Запити зацікавлених осіб](https://maxkochenkov.github.io/database_group1/requirements/stakeholders-needs.html)

3. [Модель прецедентів](https://maxkochenkov.github.io/database_group1/use%20cases/)

## Загальна схема

<center>

@startuml

    actor Expert
    actor Client

    usecase "USER.SIGNUP\nЗареєструватиcь" as USignup
    usecase "USER.SIGNSN\nАвторизуватись" as USignin
    usecase "SURVEY.INTERACT_WITH_SURVEY\nВзаємодіяти з\nопитуванням" as SSurvey
    usecase "SURVEY.INTERACT_WITH_SURVEY\\nВзаємодіяти з\nрезультатами опитування" as SResults
    usecase "EXPERT.TAKE_SURVEY\nПройти\nопитування" as ETake
    usecase "EXPERT.CHANGE_ANSWERS\nРедагувати\nвідповіді" as EChange


        Expert -l-|> Client
        Expert -u-> ETake
        Expert -r-> EChange
        Client -u-> USignup
        Client -l-> USignin
        Client -d-> SSurvey
        Client -d-> SResults

@enduml

**Рис.1** Загальна схема

</center>

## Схема кліента

<center>

@startuml

actor Client as Client

    usecase "USER.SIGNUP\nЗареєструвати" as SIGNUP
    usecase "USER.SIGNIN\nАвторизувати"  as SIGNIN
    usecase "SURVEY.CREATE\nСтворити опитування" as CREATTE
    usecase "SURVEY.CLOSE\nЗакрити існуюче опитування" as CLOSE
    usecase "SURVEY.GET_RESULTS\nОтримати результати\n опитування" as GET_RESULT
    usecase "SURVEY.GET_QUESTION\nОтримати статистику\n відповідей на конкретне питання" as GET_QUESTION
    usecase "SURVEY.ADD_QUESTION\nДодати питання\n до опитування" as ADD_QUESTION
    usecase "SURVEY.DELETE_QUESTION\nВидалити питання\n з опитування" as DELETE_QUESTION
    usecase "SURVEY.EXPORT\nЕкспортувати результати\n опитування" as EXPORT
    usecase "USER.SHARE\nНадати доступ\n до опитування" as SHARE
    usecase "USER.MANAGE_ACCOUNT\nВзаємодія з\n обліковим записом" as UInteraction
    usecase "SURVEY.MANAGE_QUESTIONS\nРедагувати опитування" as SEdit
    usecase "SURVEY.MANAGE_RESULTS\nВзаємодія з результатами" as SResults

    Client -r-> UInteraction
    UInteraction -r-> SIGNUP
    UInteraction -d-> SIGNIN
    Client -d-> SEdit
    Client -l-> SResults
    Client -u-> CREATTE
    Client -u-> CLOSE
    Client -u-> SHARE
    Client -u-> GET_RESULT
    SEdit <-d. DELETE_QUESTION : extends
    SEdit <-d. ADD_QUESTION : extends
    SResults <-u. GET_QUESTION : extends
    SResults <-d. EXPORT : extends

@enduml

**Рис.2** Схема клієнта

</center>

## Схема експерта

<center>

@startuml

    actor "Експерт" as Expert
    usecase "EXPERT.SURVEY_INTERACTION\nВзаємодія з опитуванням"  as SurveyInteraction
    usecase "EXPERT.TAKE_SURVEY\nПройти опитування" as TakeSurvey
    usecase "EXPERT.CHANGE_ANSWERS\nРедагувати відповіді" as ChangeAnswers
    
    Expert -d-> SurveyInteraction
    SurveyInteraction  <.d. TakeSurvey : extends
    SurveyInteraction  <.d. ChangeAnswers : extends

@enduml

**Рис.3** Схема Експерта

</center>

## Сценарії використання

### USER.SIGNUP
---

| **ID:**                | USER.SIGNUP                                                                                                                                                                                                                                                                                                                           |
|------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **НАЗВА:**             | Зареєструвати клієнта                                                                                                                                                                                                                                                                                                                 |
| **УЧАСНИКИ:**          | Клієнт, система                                                                                                                                                                                                                                                                                                                       |
| **ПЕРЕДУМОВИ:**        | Клієнт не має облікового запису в системі                                                                                                                                                                                                                                                                                             |
| **РЕЗУЛЬТАТ:**         | Система створює новий обліковий запис та фіксує у ньому реєстраційні дані клієнта                                                                                                                                                                                                                                                     |
| **ВИКЛЮЧНІ СИТУАЦІЇ:** | Клієнт ввів невалідні дані - InvalidDataException.<br/>Клієнт вже має обліковий запис - AlreadyRegisteredException                                                                                                                                                                                                                    |
| **ОСНОВНИЙ СЦЕНАРІЙ:** | 1. Клієнт зайшов на сайт та відкрив вікно реєстрації <br/>2. Клієнт вводить дані для реєстрації<br/>3. Система обробляє отримані дані від клієнта ( може виникнути InvalidDataException, AlreadyRegisteredException)<br/>4. Система створює обліковий запис<br/>5. Система повідомляє клієнту про успішне створення облікового запису |


<center style="
    border-radius:4px;
    border: 1px solid #cfd7e6;
    box-shadow: 0 1px 3px 0 rgba(89,105,129,.05), 0 1px 1px 0 rgba(0,0,0,.025);
    padding: 1em;"
>

@startuml

        |Клієнт|
        start;
        :заходить на сайт та відкриває вікно реєстрації;

        |Система|
        :генерує форму для реєстрації;
        :повертає форму користувачу;
        :вимагає ввести дані для реєстрації;

        |Клієнт|
        :вводить дані для реєстрації\nта натискає "Зареєструватися";

        |Система|
        :обробляє отримані дані від клієнта;
        note right #ffaaaa
        <b>Може виникнути</b>
        <b>InvalidDataException,</b>
        <b>AlreadyRegisteredException</b>
        end note
        :створює облiковий запис;
        :повiдомляe клiенту про успiшне\nстворення облiкового запису;

        |Клієнт|
        stop;

@enduml

</center>

### USER.SIGNIN
---

| **ID:**                | USER.SIGNIN                                                                                                                                                                                                                 |
|------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **НАЗВА:**             | Авторизувати клієнта                                                                                                                                                                                                        |
| **УЧАСНИКИ:**          | Клієнт, система                                                                                                                                                                                                             |
| **ПЕРЕДУМОВИ:**        | Клієнт має обліковий запис                                                                                                                                                                                                  |
| **РЕЗУЛЬТАТ:**         | Система авторизовує користувача                                                                                                                                                                                             |
| **ВИКЛЮЧНІ СИТУАЦІЇ:** | Клієнт ввів невалідні дані - InvalidDataException                                                                                                                                                                           |
| **ОСНОВНИЙ СЦЕНАРІЙ:** | 1. Клієнт зайшов на сайт та відкрив вікно входу<br/>2. Клієнт вводить дані для входу<br/>3. Система обробляє отримані дані від клієнта( може виникнути InvalidDataException)<br/>4. Система дає допуск до облікового запису |


<center style="
    border-radius:4px;
    border: 1px solid #cfd7e6;
    box-shadow: 0 1px 3px 0 rgba(89,105,129,.05), 0 1px 1px 0 rgba(0,0,0,.025);
    padding: 1em;"
>

@startuml
        
    |Клієнт|
    start;
    :натискає кнопку "Вхід"; 
    |Система|
    :генерує форму авторизації;
    :повертає форму користувачу;
    |Клієнт|
    :вводить дані для входу;
    :натискає кнопку "Увійти";
    |Система|
    :обробляє отримані дані від клієнта;
    note right #ffaaaa
    <b> Може виникнути
    <b> InvalidDataException
    end note
    :авторизовує користувача;
    :надає доступ до облікового запису користувача;
    |Клієнт|
    stop;

@enduml

</center>

### SURVEY.CREATE
---
| **ID:**                | SURVEY.CREATE                                                                                                                                                                                                                      |
|------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **НАЗВА:**             | Створити опитування                                                                                                                                                                                                                |
| **УЧАСНИКИ:**          | Клієнт, система                                                                                                                                                                                                                    |
| **ПЕРЕДУМОВИ:**        | Клієнт увійшов в обліковий запис<br/>Клієнт має права на створення опитування                                                                                                                                                      |
| **РЕЗУЛЬТАТ:**         | Додане в базу даних опитування                                                                                                                                                                                                     |
| **ВИКЛЮЧНІ СИТУАЦІЇ:** | Клієнт створює пусте опитування - EmptySurveyException                                                                                                                                                                             |
| **ОСНОВНИЙ СЦЕНАРІЙ:** | 1. Клієнт відкриває шаблон опитування<br/>2. Клієнт заповнює поля в шаблоні<br/>3. Клієнт надсилає запит в систему для збереження опитування (може виникнути EmptySurveyException)<br/>4. Система зберігає опитування в базу даних |

<center style="
    border-radius:4px;
    border: 1px solid #cfd7e6;
    box-shadow: 0 1px 3px 0 rgba(89,105,129,.05), 0 1px 1px 0 rgba(0,0,0,.025);
    padding: 1em;"
>

@startuml
        
        |Клієнт|
        start;
        :створює опитування;
        
        |Система|
        :створює шаблон для \n створення опитування;

        |Клієнт|
        :відкриває шаблон опитування;
        :заповнює поля в шаблоні, публікує;
        :надсилає запит в систему для \n збереження опитування;
        
        |Система|
        :обробляє запит;
        note right #ffaaaa
        <b> Може виникнути
        <b> EmptySurveyException
        end note
        :додає опитування в базу даних;

        |Клієнт|
        stop;

@enduml

</center>

### SURVEY.CLOSE
---  
| **ID:**                | SURVEY.CLOSE                                                                                                                                                                                                                                                                     |
|------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **НАЗВА:**             | Закрити існуюче опитування                                                                                                                                                                                                                                                       |
| **УЧАСНИКИ:**          | Клієнт, система                                                                                                                                                                                                                                                                  |
| **ПЕРЕДУМОВИ:**        | Клієнт створив опитування<br/>Клієнт має права на створення опитування                                                                                                                                                                                                           |
| **РЕЗУЛЬТАТ:**         | Система закриває доступ до опитування та фіксує його результати                                                                                                                                                                                                                  |
| **ВИКЛЮЧНІ СИТУАЦІЇ:** | Клієнт немає прав доступу до опитування - NoPermissionException                                                                                                                                                                                                                                                                          |
| **ОСНОВНИЙ СЦЕНАРІЙ:** | 1. Клієнт обирає відкрите опитування<br/>2. Клієнт надсилає запит для закриття опитування <br/>3. Система перевіряє, чи має клієнт право закривати це опитування та чи воно ще не було закрито<br/>4. Система припиняє прийом нових відповідей та зберігає результати опитування |

<center style="
    border-radius:4px;
    border: 1px solid #cfd7e6;
    box-shadow: 0 1px 3px 0 rgba(89,105,129,.05), 0 1px 1px 0 rgba(0,0,0,.025);
    padding: 1em;"
>

@startuml


    |Клієнт|
    start;
    :обирає відкрите опитування;
    :надсилає запит в систему для \n закриття опитування;

    |Система|
    :перевіряє, чи має клієнт право\n закривати це опитування;
    note right #ffaaaa
    <b>Може виникнути</b>
    <b>NoPermissionException</b>
    end note
    :обробляє запит;
    :закриває опитування та \nзберігає результати;

    |Клієнт|
    :отримує повідомлення \nпро закриття опитування;
    stop;

@enduml

</center>

### SURVEY.GET_RESULTS
--- 
| **ID:**                | SURVEY.GET_RESULTS                                                                                                                                                                                    |
|------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **НАЗВА:**             | Отримати результати опитування                                                                                                                                                                        |
| **УЧАСНИКИ:**          | Клієнт, система                                                                                                                                                                                       |
| **ПЕРЕДУМОВИ:**        | Клієнт зайшов в меню створеного опитування                                                                                                                                                            |
| **РЕЗУЛЬТАТ:**         | Система надає доступ до статистики відповідей на опитування експертів                                                                                                                                 |
| **ВИКЛЮЧНІ СИТУАЦІЇ:** | Опитування ніхто не пройшов - EmptyResultsException                                                                                                                                                   |
| **ОСНОВНИЙ СЦЕНАРІЙ:** | 1. Клієнт відкриває опитування<br/>2. Клієнт надсилає запит для перегляду результатів<br/>3. Система обробляє запит (може виникнути EmptyResultsException)<br/>4. Система надає результати опитування |

<center style="
    border-radius:4px;
    border: 1px solid #cfd7e6;
    box-shadow: 0 1px 3px 0 rgba(89,105,129,.05), 0 1px 1px 0 rgba(0,0,0,.025);
    padding: 1em;"
>

@startuml

    |Клієнт|
    start;
    :відкриває опитування;
    :натискає кнопку\n"Отримати результати";
    :надсилає запит для\nперегляду результатів;

    |Система|
    :обробляє запит\nдля перегляду результатів;
    note right #ffaaaa
    <b>Може виникнути</b>
    <b>EmptyResultsException</b>
    end note
    :надає результати опитування;
    
    |Клієнт|
    stop;

@enduml

</center>

### SURVEY.ADD_QUESTION 
--- 
| **ID:**                | SURVEY.ADD_QUESTION                                                                                                                                                                                                                                |
|------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **НАЗВА:**             | Додати питання до опитування                                                                                                                                                                                                                       |
| **УЧАСНИКИ:**          | Клієнт, система                                                                                                                                                                                                                                    |
| **ПЕРЕДУМОВИ:**        | Клієнт зайшов в меню створеного опитування                                                                                                                                                                                                         |
| **РЕЗУЛЬТАТ:**         | Система додає питання до створеного опитування                                                                                                                                                                                                     |
| **ВИКЛЮЧНІ СИТУАЦІЇ:** | Таке питання вже є в опитуванні - QuestionExistsException                                                                                                                                                                                          |
| **ОСНОВНИЙ СЦЕНАРІЙ:** | 1. Клієнт заходить у вибране опитування<br/>2. Клієнт обирає тип питання <br/>3. Клієнт заповнив питання<br/>4. Система обробляє запит на додавання (може виникнути QuestionExistsException)<br/>5. Система зберігає опитування з доданим питанням |

<center style="
    border-radius:4px;
    border: 1px solid #cfd7e6;
    box-shadow: 0 1px 3px 0 rgba(89,105,129,.05), 0 1px 1px 0 rgba(0,0,0,.025);
    padding: 1em;"
>

@startuml

    |Клієнт|
    start;
    :відкриває опитування;
    :натискає кнопку\n"Редагувати опитування"; 

    |Система|
    :отримує запит на редагування опитування;
    :відправляє форму\nдля редагування;

    |Клієнт|
    :отримує форму;
    :додає питання;

    |Система|
    :обробляє запит на додавання;
    note right #ffaaaa
    <b> Може виникнути
    <b> QuestionExistsException
    end note
    :додає питання до базу даних;
    :відправляє повідомлення про успішне додавання питання;

    |Клієнт|
    stop;

@enduml

</center>

### SURVEY.DELETE_QUESTION
--- 
| **ID:**                | SURVEY.DELETE_QUESTION                                                                                                                                                                                                                                            |
|------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **НАЗВА:**             | Видалити питання з опитування                                                                                                                                                                                                                                     |
| **УЧАСНИКИ:**          | Клієнт, система                                                                                                                                                                                                                                                   |
| **ПЕРЕДУМОВИ:**        | Клієнт зайшов в меню створеного опитування                                                                                                                                                                                                                        |
| **РЕЗУЛЬТАТ:**         | Система прибирає питання до створеного опитування                                                                                                                                                                                                                 |
| **ВИКЛЮЧНІ СИТУАЦІЇ:** | В опитуванні немає питань - EmptySurveyException                                                                                                                                                                                                                  |
| **ОСНОВНИЙ СЦЕНАРІЙ:** | 1. Клієнт заходить у вибране опитування <br/>2. Клієнт обирає питання<br/>3. Клієнт надсилає запит для видалення питання<br/>4. Система обробляє запит на видалення (може виникнути EmptySurveyException)<br/>5. Система зберігає опитування з видаленим питанням |

<center style="
    border-radius:4px;
    border: 1px solid #cfd7e6;
    box-shadow: 0 1px 3px 0 rgba(89,105,129,.05), 0 1px 1px 0 rgba(0,0,0,.025);
    padding: 1em;"
>

@startuml

    |Клієнт|
    start;
    :відкриває опитування;
    :натискає кнопку\n"Редагувати опитування"; 

    |Система|
    :отримує запит на\nредагування опитування;
    :відправляє форму\nдля редагування;

    |Клієнт|
    :отримує форму;
    :обирає питання;
    :надсилає запит на\nвидалення питанння;

    |Система|
    :обробляє запит на видалення;
    note right #ffaaaa
    <b> Може виникнути
    <b> EmptySurveyException
    end note
    :видаляє питання з бази даних;
    :відправляє повідомлення про\nуспішне видалення питання;

    |Клієнт|
    stop;

@enduml

</center>

### EXPERT.TAKE_SURVEY
--- 
| **ID:**                | EXPERT.TAKE_SURVEY                                                                                                                                                                                                                                               |
|------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **НАЗВА:**             | Пройти опитування                                                                                                                                                                                                                                                |
| **УЧАСНИКИ:**          | Експерт, система                                                                                                                                                                                                                                                 |
| **ПЕРЕДУМОВИ:**        | Експерт перейшов за посиланням                                                                                                                                                                                                                                   |
| **РЕЗУЛЬТАТ:**         | Система зберегла відповіді експерта                                                                                                                                                                                                                              |
| **ВИКЛЮЧНІ СИТУАЦІЇ:** | Залишились питання без відповіді - SurveyNotCompletedException                                                                                                                                                                                                   |
| **ОСНОВНИЙ СЦЕНАРІЙ:** | 1. Експерт переходить по посиланню<br/>2. Експерт відповідає на питання опитування<br/>3. Експерт завершує проходження<br/>4. Система обробляє результати опитування (може виникнути SurveyNotCompletedException)<br/>5. Система зберігає відповіді у базу даних |

<center style="
    border-radius:4px;
    border: 1px solid #cfd7e6;
    box-shadow: 0 1px 3px 0 rgba(89,105,129,.05), 0 1px 1px 0 rgba(0,0,0,.025);
    padding: 1em;"
>

@startuml

    |Клієнт|    
    start;
    :переходить по посиланню;

    |Система|
    :виводить список питань;

    |Клієнт|
    :відповідає на питання;
    :завершує проходження опитування;
    
    |Система|
    :обробляє результати опитування;
    note right #ffaaaa
    <b> може виникнути
    <b> SurveyNotCompletedException
    end note
    :зберігає відповіді у базу даних;
    
    |Клієнт|
    :отримує повідомлення про\nзавершення опитування;
    stop;

@enduml

</center>

### EXPERT.CHANGE_ANSWERS
---  
| **ID:**                | EXPERT.CHANGE_ANSWERS                                                                                                                                                                                                                                                                                     |
|------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **НАЗВА:**             | Змінити відповіді пройденого опитування                                                                                                                                                                                                                                                                   |
| **УЧАСНИКИ:**          | Експерт, система                                                                                                                                                                                                                                                                                          |
| **ПЕРЕДУМОВИ:**        | Експерт уже пройшов опитування                                                                                                                                                                                                                                                                            |
| **РЕЗУЛЬТАТ:**         | Оновлені дані в базі даних                                                                                                                                                                                                                                                                                |
| **ВИКЛЮЧНІ СИТУАЦІЇ:** | Є непройдені питання в опитуванні - SurveyNotCompletedException<br/>Опитування вже завершено - SurveyNotAvailableException                                                                                                                                                                                |
| **ОСНОВНИЙ СЦЕНАРІЙ:** | 1. Експерт надсилає запит для зміни відповідей у опитування (може виникнути SurveyNotAvailableException)<br/>2. Система обробляє запит<br/>3. Експерт змінює відповіді<br/>4. Система обробляє запит на редагування (може виникнути SurveyNotCompletedException)<br/>5. Система оновлює дані в базі даних |

<center style="
    border-radius:4px;
    border: 1px solid #cfd7e6;
    box-shadow: 0 1px 3px 0 rgba(89,105,129,.05), 0 1px 1px 0 rgba(0,0,0,.025);
    padding: 1em;"
>

@startuml

    |Експерт|
    start;
    :відкриває опитування;
    :натискає кнопку "Змінити відповіді";
    
    |Система|
    :оброблює запит перевіряє можливість редагування;
    note right #ffaaaa
    <b> може виникнути
    <b> SurveyNotAvailableException
    end note
    :отримує дані з бази даних;
    :надсилає дані;
        
    |Експерт|
    :відповідає на питання з опитування;
    :натискає кнопку "Надіслати";
    
    |Система|
    :система оновлює дані в базі даних;
    note right #ffaaaa
    <b> може виникнути
    <b> SurveyNotCompletedException
    end note
    
    |Експерт|
    :отримує підтвердження змінених відповідей;
    stop;

@enduml

</center>

### SURVEY.EXPORT 
--- 
| **ID:**                | SURVEY.EXPORT                                                                                                                                                                                                                                                                  |
|------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **НАЗВА:**             | Експортувати результати опитування                                                                                                                                                                                                                                             |
| **УЧАСНИКИ:**          | Клієнт, система                                                                                                                                                                                                                                                                |
| **ПЕРЕДУМОВИ:**        | Опитування закрите                                                                                                                                                                                                                                                             |
| **РЕЗУЛЬТАТ:**         | Клієнт отримує результати опитування в обраному форматі                                                                                                                                                                                                                        |
| **ВИКЛЮЧНІ СИТУАЦІЇ:** | Не обрано формат даних - DataFormatRequiredException                                                                                                                                                                                                                           |
| **ОСНОВНИЙ СЦЕНАРІЙ:** | 1. Клієнт обирає опитування<br/>2. Клієнт обирає тип експорту і відправляє запит (може виникнути DataFormatRequiredException)<br/>3. Система обробляє запит та генерує файл з результатами опитування у обраному форматі<br/>4. Клієнт отримує готовий файл в обраному форматі |

<center style="
    border-radius:4px;
    border: 1px solid #cfd7e6;
    box-shadow: 0 1px 3px 0 rgba(89,105,129,.05), 0 1px 1px 0 rgba(0,0,0,.025);
    padding: 1em;"
>

@startuml

    |Клієнт|
    start;
    :відкриває опитування;
    
    |Система|
    :надає варіанти експорту;
    
    |Клієнт|
    :обирає варіант експорту;
    :відправляє запит;
    
    |Система|
    : обробляє запит;
    note right #ffaaaa
    <b> Може виникнути
    <b> DataFormatRequiredException
    end note
    :генерує файл з результатами опитування у вибраному форматі;
    
    |Клієнт|
    :отримує готовий файл;
    stop;

@enduml

</center>

### SURVEY.SHARE
--- 
| **ID:**                | SURVEY.SHARE                                                                                                                                                            |
|------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **НАЗВА:**             | Надати доступ до опитування                                                                                                                                             |
| **УЧАСНИКИ:**          | Клієнт, система                                                                                                                                                         |
| **ПЕРЕДУМОВИ:**        | Клієнт створив опитування                                                                                                                                               |
| **РЕЗУЛЬТАТ:**         | Експерти отримали доступ до проходження опитування                                                                                                                      |
| **ВИКЛЮЧНІ СИТУАЦІЇ:** | Немає                                                                                                                                                                   |
| **ОСНОВНИЙ СЦЕНАРІЙ:** | 1. Клієнт обирає відкрите опитування, яким хоче поділитись<br/>2. Система генерує унікальне посилання, яке дозволяє експертам отримати доступ до проходження опитування |

<center style="
    border-radius:4px;
    border: 1px solid #cfd7e6;
    box-shadow: 0 1px 3px 0 rgba(89,105,129,.05), 0 1px 1px 0 rgba(0,0,0,.025);
    padding: 1em;"
>

@startuml

    |Клієнт|
    start;
    :обирає відкрите опитування;
    :натискає на кнопку поділитись;
    
    |Система|
    :генерує унікальне посилання;
    :повертає унікальне посилання;
    
    |Клієнт|
    stop;

@enduml

</center>

### SURVEY.GET_QUESTION 
---
| **ID:**                | SURVEY.GET_QUESTION                                                                                                                                                                                                                          |
|------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **НАЗВА:**             | Отримати статистику відповідей на конкретне питання                                                                                                                                                                                          |
| **УЧАСНИКИ:**          | Клієнт, система                                                                                                                                                                                                                              |
| **ПЕРЕДУМОВИ:**        | Клієнт створив опитування                                                                                                                                                                                                                    |
| **РЕЗУЛЬТАТ:**         | Клієнт отримав статистику відповідей про конкретне запитання                                                                                                                                                                                 |
| **ВИКЛЮЧНІ СИТУАЦІЇ:** | Опитування ніхто не пройшов - EmptyResultsException                                                                                                                                                                                          |
| **ОСНОВНИЙ СЦЕНАРІЙ:** | 1. Клієнт відкриває опитування<br/>2. Клієнт обирає конкретне питання<br/>3. Клієнт надсилає запит для перегляду результатів<br/>4. Система обробляє запит (може виникнути EmptyResultsException)<br/>5. Система надає результати опитування |

<center style="
    border-radius:4px;
    border: 1px solid #cfd7e6;
    box-shadow: 0 1px 3px 0 rgba(89,105,129,.05), 0 1px 1px 0 rgba(0,0,0,.025);
    padding: 1em;"
>

@startuml

    |Клієнт|
    start;
    :відкриває опитування;
    
    |Система|
    :отримує дані з бази даних;
    :надсилаю дані клієнту;
        
    |Клієнт|
    :натискає на питання;
    
    |Система|
    :отримує статистичні дані з бази даних;
    note right #ffaaaa
    <b> може виникнути
    <b> EmptyResultsException
    end note
    :надсилає дані клієнту;

    |Клієнт|
    :отримує дані про опитування;
    stop;

@enduml

</center>